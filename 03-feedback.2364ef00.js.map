{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,OAAQC,SAASC,cAAc,kBAC/BC,QAASF,SAASC,cAAc,kBAChCE,WAAYH,SAASC,cAAc,qBAGrCH,EAAKC,OAAOK,iBAAiB,QAASC,EAAAT,EAAA,EAKtC,SAAqBU,GACnBC,aAAaC,QACXC,EACAC,KAAKC,UAAU,CACbC,MAAOd,EAAKI,QAAQW,MACpBC,QAAShB,EAAKK,WAAWU,WAV6B,MAC5Df,EAAKC,OAAOK,iBAAiB,UAc7B,SAAsBE,GACpBA,EAAES,iBACFT,EAAEU,cAAcC,QAChBV,aAAaW,WAAWT,MAf1B,IAmBQU,EACAC,EApBFX,EAAsB,sBAmBpBU,EAAYZ,aAAac,QAAQZ,IACjCW,EAAaV,KAAKY,MAAMH,MAG5BrB,EAAKK,WAAWU,MAAQO,EAAWN,QACnChB,EAAKI,QAAQW,MAAQO,EAAWR","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  formEl: document.querySelector('.feedback-form'),\n  labelEl: document.querySelector('[name=\"email\"]'),\n  textAreaEl: document.querySelector('[name=\"message\"]'),\n};\n\nrefs.formEl.addEventListener('input', throttle(onFormInput, 500));\nrefs.formEl.addEventListener('submit', onFormSubmit);\n\nconst FEEDBACK_FORM_STATE = 'feedback-form-state';\n\nfunction onFormInput(e) {\n  localStorage.setItem(\n    FEEDBACK_FORM_STATE,\n    JSON.stringify({\n      email: refs.labelEl.value,\n      message: refs.textAreaEl.value,\n    })\n  );\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  e.currentTarget.reset();\n  localStorage.removeItem(FEEDBACK_FORM_STATE);\n}\n\nfunction populateMessageOutput() {\n  const savedForm = localStorage.getItem(FEEDBACK_FORM_STATE);\n  const parsedForm = JSON.parse(savedForm);\n\n  if (parsedForm) {\n    refs.textAreaEl.value = parsedForm.message;\n    refs.labelEl.value = parsedForm.email;\n  }\n}\npopulateMessageOutput();\n"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$refs","formEl","document","querySelector","labelEl","textAreaEl","addEventListener","$parcel$interopDefault","e","localStorage","setItem","$b00c40859be242c5$var$FEEDBACK_FORM_STATE","JSON","stringify","email","value","message","preventDefault","currentTarget","reset","removeItem","savedForm","parsedForm","getItem","parse"],"version":3,"file":"03-feedback.2364ef00.js.map"}